/*
 * freopenTest.cpp
 *
 *  Created on: 2015-7-13
 *      Author: Hong
 */
#include "../config.h"
#if FREOPENTEST_CPP

#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <string.h>

const char *gFileName	= "/tmp/out.log";

int FreopenTest_freopen(int argc, char *argv[]);

/*================main==============*/
int FreopenTest(int argc, char *argv[])
{
	int ret;

	ret = FreopenTest_freopen(argc, argv);

	return ret;
}


int FreopenTest_freopen(int argc, char *argv[])
{
	printf("start FreopenTest_freopen...\n");

	FILE *pFileOut = freopen(gFileName, "wr", stdout);
	if (NULL == pFileOut)
	{
		perror("freopen faile");
		exit(-1);
	}
	printf("printf string is into file.\n");
	fprintf(pFileOut, "fprintf string is into file.\n");

	fclose(stdout);
	fclose(pFileOut);

	return 0;
}

#endif /* FREOPENTEST_CPP */
/* end file */
